const data = [
  "+998 99 643 71 36",
  "+998 99 799 68 99",
  "+998 99 720 21 50",
  "+998 99 814 96 55",
  "+998 99 678 22 37",
  "+998 99 936 90 56",
  "+998 99 926 22 64",
  "+998 99 346 66 97",
  "+998 99 615 54 96",
  "+998 99 331 94 25",
  "+998 99 135 69 46",
  "+998 99 761 64 58",
  "+998 99 526 89 62",
  "+998 99 943 68 98",
  "+998 99 187 49 12",
  "+998 99 925 82 15",
  "+998 99 149 69 88",
  "+998 99 348 30 43",
  "+998 99 878 93 54",
  "+998 99 997 20 70",
  "+998 99 308 91 59",
  "+998 99 670 34 73",
  "+998 99 474 51 48",
  "+998 99 354 87 66",
  "+998 99 240 19 98",
  "+998 99 641 10 11",
  "+998 99 120 34 47",
  "+998 99 613 72 35",
  "+998 99 811 93 83",
  "+998 99 312 95 89",
  "+998 99 839 62 68",
  "+998 99 383 94 83",
  "+998 99 174 37 73",
  "+998 99 350 12 44",
  "+998 99 415 52 50",
  "+998 99 455 40 31",
  "+998 99 125 72 69",
  "+998 99 316 24 39",
  "+998 99 901 83 23",
  "+998 99 932 56 95",
  "+998 99 827 98 67",
  "+998 99 397 42 16",
  "+998 99 831 44 15",
  "+998 99 775 69 59",
  "+998 99 338 90 35",
  "+998 99 860 55 41",
  "+998 99 643 52 63",
  "+998 99 647 42 16",
  "+998 99 455 56 76",
  "+998 99 382 30 68",
  "+998 99 622 22 54",
  "+998 99 293 90 30",
  "+998 99 360 95 50",
  "+998 99 646 44 57",
  "+998 99 413 21 11",
  "+998 99 777 66 61",
  "+998 99 913 46 90",
  "+998 99 783 16 47",
  "+998 99 831 85 30",
  "+998 99 654 67 15",
  "+998 99 937 37 49",
  "+998 99 469 16 32",
  "+998 99 737 94 21",
  "+998 99 532 45 29",
  "+998 99 398 53 74",
  "+998 99 137 44 25",
  "+998 99 395 57 59",
  "+998 99 377 72 20",
  "+998 99 374 15 34",
  "+998 99 635 83 73",
  "+998 99 789 41 41",
  "+998 99 435 47 66",
  "+998 99 921 35 20",
  "+998 99 939 58 74",
  "+998 99 194 50 40",
  "+998 99 343 50 93",
  "+998 99 975 64 95",
  "+998 99 521 16 62",
  "+998 99 349 95 30",
  "+998 99 270 75 10",
  "+998 99 524 46 35",
  "+998 99 210 87 52",
  "+998 99 247 43 61",
  "+998 99 276 59 90",
  "+998 99 654 10 22",
  "+998 99 230 26 35",
  "+998 99 245 90 29",
  "+998 99 172 10 73",
  "+998 99 858 17 14",
  "+998 99 611 53 17",
  "+998 99 913 15 96",
  "+998 99 734 61 73",
  "+998 99 727 87 40",
  "+998 99 261 21 20",
  "+998 99 951 19 10",
  "+998 99 303 87 93",
  "+998 99 871 38 22",
  "+998 99 444 39 53",
  "+998 99 691 20 14",
];
const data2 = [];

const form = document.querySelector("#form");
const formInput = document.querySelector("input");
const number = document.querySelector(".number");
const startbtn = document.querySelector("#start-btn");
const numbersCount = document.querySelector(".numbers-count");

let counter = 0;
form.addEventListener("submit", (e) => {
  e.preventDefault();
  let value = formInput.value;
  if (value == "" || value.length < 9 || value.length > 9) {
    alert(
      `Xatolik: Input bo'sh bo'lmasin \nYechim: 7 tadan kam yoki oshmasligi bo'lmasligi lozim`
    );
  } else {
    value = value.split("");
    value.splice(2, 0, " ");
    value.splice(6, 0, "-");
    value.splice(9, 0, "-");
    value = value.join("");

    data2.push(value);
    numbersCount.textContent = counter += 1;
  }

  form.reset();
});

startbtn.addEventListener("click", () => {
  if (data2.length == 0 || data2.length < 3) {
    alert("Raqamlar 3 tadan kam yoki yo'q");
  } else {
    let randomNumber = setInterval(() => {
      number.textContent = `+998 ${
        data2[Math.floor(Math.random() * data2.length)]
      }`;
    }, 50);

    setTimeout(() => {
      clearInterval(randomNumber);
    }, 1000);
  }
});
